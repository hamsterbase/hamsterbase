"use strict";var fs=require("fs/promises"),main=require("./main-7fd124a9.js"),crypto=require("crypto");require("stream"),require("http"),require("url"),require("punycode"),require("https"),require("zlib"),require("path"),require("os"),require("fs"),require("events"),require("net"),require("tls");function _interopDefaultLegacy(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var r=Object.create(null);return e&&Object.keys(e).forEach(function(t){if(t!=="default"){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})}}),r.default=e,Object.freeze(r)}var fs__default=_interopDefaultLegacy(fs),crypto__default=_interopDefaultLegacy(crypto);async function parseFile(e){const r=await fs__default.default.readFile(e),t=await fs__default.default.stat(e),i=crypto__default.default.createHash("sha256");i.update(r);const s=i.digest("hex"),u=main.getParserByFileName(e),a=u.parseFile(r.buffer),{JSDOM:c}=await Promise.resolve().then(function(){return _interopNamespace(require("jsdom"))}),o=a.main.data.value,n=new c(o,{url:a.main.url}),f=n.window.document.querySelector('meta[name="description"]')?.getAttribute("content");return{id:s,firstAddTime:Date.now(),size:t.size,createTime:a.createTime??t.birthtime.getDate(),title:n.window.document.title,link:a.main.url,excerpt:f??"",ext:u.ext}}exports.parseFile=parseFile;
//# sourceMappingURL=parseFile-7305f673.js.map
