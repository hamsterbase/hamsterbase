"use strict";var fs=require("fs/promises"),crypto=require("crypto");function _interopDefaultLegacy(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}function _interopNamespace(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(n){if(n!=="default"){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}}),t.default=e,Object.freeze(t)}var fs__default=_interopDefaultLegacy(fs),crypto__default=_interopDefaultLegacy(crypto);const LANGUAGE_DEFAULT="en";let _isWindows=!1,_isMacintosh=!1,_isLinux=!1,_isIOS=!1,_locale,_language=LANGUAGE_DEFAULT,_translationsConfigFile,_userAgent;const globals=typeof self=="object"?self:typeof global=="object"?global:{};let nodeProcess;typeof process<"u"?nodeProcess=process:typeof globals.vscode<"u"&&(nodeProcess=globals.vscode.process);const isElectronRenderer=typeof nodeProcess?.versions?.electron=="string"&&nodeProcess.type==="renderer",isElectronSandboxed=isElectronRenderer&&nodeProcess?.sandboxed;if((()=>{if(isElectronSandboxed)return"bypassHeatCheck";const e=nodeProcess?.env.ENABLE_VSCODE_BROWSER_CODE_LOADING;if(typeof e=="string")return e==="none"||e==="code"||e==="bypassHeatCheck"||e==="bypassHeatCheckAndEagerCompile"?e:"bypassHeatCheck"})(),typeof navigator=="object"&&!isElectronRenderer)_userAgent=navigator.userAgent,_isWindows=_userAgent.indexOf("Windows")>=0,_isMacintosh=_userAgent.indexOf("Macintosh")>=0,_isIOS=(_userAgent.indexOf("Macintosh")>=0||_userAgent.indexOf("iPad")>=0||_userAgent.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,_isLinux=_userAgent.indexOf("Linux")>=0,_locale=navigator.language,_language=_locale;else if(typeof nodeProcess=="object"){_isWindows=nodeProcess.platform==="win32",_isMacintosh=nodeProcess.platform==="darwin",_isLinux=nodeProcess.platform==="linux",_isLinux&&!!nodeProcess.env.SNAP&&nodeProcess.env.SNAP_REVISION,_locale=LANGUAGE_DEFAULT,_language=LANGUAGE_DEFAULT;const e=nodeProcess.env.VSCODE_NLS_CONFIG;if(e)try{const t=JSON.parse(e),n=t.availableLanguages["*"];_locale=t.locale,_language=n||LANGUAGE_DEFAULT,_translationsConfigFile=t._translationsConfigFile}catch{}}else console.error("Unable to resolve platform.");var Platform;(function(e){e[e.Web=0]="Web",e[e.Mac=1]="Mac",e[e.Linux=2]="Linux",e[e.Windows=3]="Windows"})(Platform||(Platform={})),Platform.Web;const isWindows=_isWindows,isMacintosh=_isMacintosh,language=_language;var Language;(function(e){function t(){return language}e.value=t;function n(){return language.length===2?language==="en":language.length>=3?language[0]==="e"&&language[1]==="n"&&language[2]==="-":!1}e.isDefaultVariant=n;function s(){return language==="en"}e.isDefault=s})(Language||(Language={}));const setImmediate=function(){if(globals.setImmediate)return globals.setImmediate.bind(globals);if(typeof globals.postMessage=="function"&&!globals.importScripts){let n=[];globals.addEventListener("message",i=>{if(i.data&&i.data.vscodeSetImmediateId)for(let r=0,a=n.length;r<a;r++){const o=n[r];if(o.id===i.data.vscodeSetImmediateId){n.splice(r,1),o.callback();return}}});let s=0;return i=>{const r=++s;n.push({id:r,callback:i}),globals.postMessage({vscodeSetImmediateId:r},"*")}}if(typeof nodeProcess?.nextTick=="function")return nodeProcess.nextTick.bind(nodeProcess);const t=Promise.resolve();return n=>t.then(n)}();var OperatingSystem;(function(e){e[e.Windows=1]="Windows",e[e.Macintosh=2]="Macintosh",e[e.Linux=3]="Linux"})(OperatingSystem||(OperatingSystem={})),_isMacintosh||_isIOS?OperatingSystem.Macintosh:_isWindows?OperatingSystem.Windows:OperatingSystem.Linux;let safeProcess;if(typeof process<"u")safeProcess={get platform(){return process.platform},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()},nextTick(e){return process.nextTick(e)}};else if(typeof globals.vscode<"u"){const e=globals.vscode.process;safeProcess={get platform(){return e.platform},get env(){return e.env},cwd(){return e.cwd()},nextTick(t){return setImmediate(t)}}}else safeProcess={get platform(){return isWindows?"win32":isMacintosh?"darwin":"linux"},nextTick(e){return setImmediate(e)},get env(){return Object.create(null)},cwd(){return"/"}};const cwd=safeProcess.cwd,env=safeProcess.env,platform=safeProcess.platform;safeProcess.nextTick;const CHAR_UPPERCASE_A=65,CHAR_LOWERCASE_A=97,CHAR_UPPERCASE_Z=90,CHAR_LOWERCASE_Z=122,CHAR_DOT=46,CHAR_FORWARD_SLASH=47,CHAR_BACKWARD_SLASH=92,CHAR_COLON=58,CHAR_QUESTION_MARK=63;class ErrorInvalidArgType extends Error{constructor(t,n,s){let i;typeof n=="string"&&n.indexOf("not ")===0?(i="must not be",n=n.replace(/^not /,"")):i="must be";const r=t.indexOf(".")!==-1?"property":"argument";let a=`The "${t}" ${r} ${i} of type ${n}`;a+=`. Received type ${typeof s}`,super(a),this.code="ERR_INVALID_ARG_TYPE"}}function validateString(e,t){if(typeof e!="string")throw new ErrorInvalidArgType(t,"string",e)}function isPathSeparator(e){return e===CHAR_FORWARD_SLASH||e===CHAR_BACKWARD_SLASH}function isPosixPathSeparator(e){return e===CHAR_FORWARD_SLASH}function isWindowsDeviceRoot(e){return e>=CHAR_UPPERCASE_A&&e<=CHAR_UPPERCASE_Z||e>=CHAR_LOWERCASE_A&&e<=CHAR_LOWERCASE_Z}function normalizeString(e,t,n,s){let i="",r=0,a=-1,o=0,c=0;for(let l=0;l<=e.length;++l){if(l<e.length)c=e.charCodeAt(l);else{if(s(c))break;c=CHAR_FORWARD_SLASH}if(s(c)){if(!(a===l-1||o===1))if(o===2){if(i.length<2||r!==2||i.charCodeAt(i.length-1)!==CHAR_DOT||i.charCodeAt(i.length-2)!==CHAR_DOT){if(i.length>2){const g=i.lastIndexOf(n);g===-1?(i="",r=0):(i=i.slice(0,g),r=i.length-1-i.lastIndexOf(n)),a=l,o=0;continue}else if(i.length!==0){i="",r=0,a=l,o=0;continue}}t&&(i+=i.length>0?`${n}..`:"..",r=2)}else i.length>0?i+=`${n}${e.slice(a+1,l)}`:i=e.slice(a+1,l),r=l-a-1;a=l,o=0}else c===CHAR_DOT&&o!==-1?++o:o=-1}return i}function _format(e,t){if(t===null||typeof t!="object")throw new ErrorInvalidArgType("pathObject","Object",t);const n=t.dir||t.root,s=t.base||`${t.name||""}${t.ext||""}`;return n?n===t.root?`${n}${s}`:`${n}${e}${s}`:s}const win32={resolve(...e){let t="",n="",s=!1;for(let i=e.length-1;i>=-1;i--){let r;if(i>=0){if(r=e[i],validateString(r,"path"),r.length===0)continue}else t.length===0?r=cwd():(r=env[`=${t}`]||cwd(),(r===void 0||r.slice(0,2).toLowerCase()!==t.toLowerCase()&&r.charCodeAt(2)===CHAR_BACKWARD_SLASH)&&(r=`${t}\\`));const a=r.length;let o=0,c="",l=!1;const g=r.charCodeAt(0);if(a===1)isPathSeparator(g)&&(o=1,l=!0);else if(isPathSeparator(g))if(l=!0,isPathSeparator(r.charCodeAt(1))){let f=2,m=f;for(;f<a&&!isPathSeparator(r.charCodeAt(f));)f++;if(f<a&&f!==m){const v=r.slice(m,f);for(m=f;f<a&&isPathSeparator(r.charCodeAt(f));)f++;if(f<a&&f!==m){for(m=f;f<a&&!isPathSeparator(r.charCodeAt(f));)f++;(f===a||f!==m)&&(c=`\\\\${v}\\${r.slice(m,f)}`,o=f)}}}else o=1;else isWindowsDeviceRoot(g)&&r.charCodeAt(1)===CHAR_COLON&&(c=r.slice(0,2),o=2,a>2&&isPathSeparator(r.charCodeAt(2))&&(l=!0,o=3));if(c.length>0)if(t.length>0){if(c.toLowerCase()!==t.toLowerCase())continue}else t=c;if(s){if(t.length>0)break}else if(n=`${r.slice(o)}\\${n}`,s=l,l&&t.length>0)break}return n=normalizeString(n,!s,"\\",isPathSeparator),s?`${t}\\${n}`:`${t}${n}`||"."},normalize(e){validateString(e,"path");const t=e.length;if(t===0)return".";let n=0,s,i=!1;const r=e.charCodeAt(0);if(t===1)return isPosixPathSeparator(r)?"\\":e;if(isPathSeparator(r))if(i=!0,isPathSeparator(e.charCodeAt(1))){let o=2,c=o;for(;o<t&&!isPathSeparator(e.charCodeAt(o));)o++;if(o<t&&o!==c){const l=e.slice(c,o);for(c=o;o<t&&isPathSeparator(e.charCodeAt(o));)o++;if(o<t&&o!==c){for(c=o;o<t&&!isPathSeparator(e.charCodeAt(o));)o++;if(o===t)return`\\\\${l}\\${e.slice(c)}\\`;o!==c&&(s=`\\\\${l}\\${e.slice(c,o)}`,n=o)}}}else n=1;else isWindowsDeviceRoot(r)&&e.charCodeAt(1)===CHAR_COLON&&(s=e.slice(0,2),n=2,t>2&&isPathSeparator(e.charCodeAt(2))&&(i=!0,n=3));let a=n<t?normalizeString(e.slice(n),!i,"\\",isPathSeparator):"";return a.length===0&&!i&&(a="."),a.length>0&&isPathSeparator(e.charCodeAt(t-1))&&(a+="\\"),s===void 0?i?`\\${a}`:a:i?`${s}\\${a}`:`${s}${a}`},isAbsolute(e){validateString(e,"path");const t=e.length;if(t===0)return!1;const n=e.charCodeAt(0);return isPathSeparator(n)||t>2&&isWindowsDeviceRoot(n)&&e.charCodeAt(1)===CHAR_COLON&&isPathSeparator(e.charCodeAt(2))},join(...e){if(e.length===0)return".";let t,n;for(let r=0;r<e.length;++r){const a=e[r];validateString(a,"path"),a.length>0&&(t===void 0?t=n=a:t+=`\\${a}`)}if(t===void 0)return".";let s=!0,i=0;if(typeof n=="string"&&isPathSeparator(n.charCodeAt(0))){++i;const r=n.length;r>1&&isPathSeparator(n.charCodeAt(1))&&(++i,r>2&&(isPathSeparator(n.charCodeAt(2))?++i:s=!1))}if(s){for(;i<t.length&&isPathSeparator(t.charCodeAt(i));)i++;i>=2&&(t=`\\${t.slice(i)}`)}return win32.normalize(t)},relative(e,t){if(validateString(e,"from"),validateString(t,"to"),e===t)return"";const n=win32.resolve(e),s=win32.resolve(t);if(n===s||(e=n.toLowerCase(),t=s.toLowerCase(),e===t))return"";let i=0;for(;i<e.length&&e.charCodeAt(i)===CHAR_BACKWARD_SLASH;)i++;let r=e.length;for(;r-1>i&&e.charCodeAt(r-1)===CHAR_BACKWARD_SLASH;)r--;const a=r-i;let o=0;for(;o<t.length&&t.charCodeAt(o)===CHAR_BACKWARD_SLASH;)o++;let c=t.length;for(;c-1>o&&t.charCodeAt(c-1)===CHAR_BACKWARD_SLASH;)c--;const l=c-o,g=a<l?a:l;let f=-1,m=0;for(;m<g;m++){const D=e.charCodeAt(i+m);if(D!==t.charCodeAt(o+m))break;D===CHAR_BACKWARD_SLASH&&(f=m)}if(m!==g){if(f===-1)return s}else{if(l>g){if(t.charCodeAt(o+m)===CHAR_BACKWARD_SLASH)return s.slice(o+m+1);if(m===2)return s.slice(o+m)}a>g&&(e.charCodeAt(i+m)===CHAR_BACKWARD_SLASH?f=m:m===2&&(f=3)),f===-1&&(f=0)}let v="";for(m=i+f+1;m<=r;++m)(m===r||e.charCodeAt(m)===CHAR_BACKWARD_SLASH)&&(v+=v.length===0?"..":"\\..");return o+=f,v.length>0?`${v}${s.slice(o,c)}`:(s.charCodeAt(o)===CHAR_BACKWARD_SLASH&&++o,s.slice(o,c))},toNamespacedPath(e){if(typeof e!="string")return e;if(e.length===0)return"";const t=win32.resolve(e);if(t.length<=2)return e;if(t.charCodeAt(0)===CHAR_BACKWARD_SLASH){if(t.charCodeAt(1)===CHAR_BACKWARD_SLASH){const n=t.charCodeAt(2);if(n!==CHAR_QUESTION_MARK&&n!==CHAR_DOT)return`\\\\?\\UNC\\${t.slice(2)}`}}else if(isWindowsDeviceRoot(t.charCodeAt(0))&&t.charCodeAt(1)===CHAR_COLON&&t.charCodeAt(2)===CHAR_BACKWARD_SLASH)return`\\\\?\\${t}`;return e},dirname(e){validateString(e,"path");const t=e.length;if(t===0)return".";let n=-1,s=0;const i=e.charCodeAt(0);if(t===1)return isPathSeparator(i)?e:".";if(isPathSeparator(i)){if(n=s=1,isPathSeparator(e.charCodeAt(1))){let o=2,c=o;for(;o<t&&!isPathSeparator(e.charCodeAt(o));)o++;if(o<t&&o!==c){for(c=o;o<t&&isPathSeparator(e.charCodeAt(o));)o++;if(o<t&&o!==c){for(c=o;o<t&&!isPathSeparator(e.charCodeAt(o));)o++;if(o===t)return e;o!==c&&(n=s=o+1)}}}}else isWindowsDeviceRoot(i)&&e.charCodeAt(1)===CHAR_COLON&&(n=t>2&&isPathSeparator(e.charCodeAt(2))?3:2,s=n);let r=-1,a=!0;for(let o=t-1;o>=s;--o)if(isPathSeparator(e.charCodeAt(o))){if(!a){r=o;break}}else a=!1;if(r===-1){if(n===-1)return".";r=n}return e.slice(0,r)},basename(e,t){t!==void 0&&validateString(t,"ext"),validateString(e,"path");let n=0,s=-1,i=!0,r;if(e.length>=2&&isWindowsDeviceRoot(e.charCodeAt(0))&&e.charCodeAt(1)===CHAR_COLON&&(n=2),t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,o=-1;for(r=e.length-1;r>=n;--r){const c=e.charCodeAt(r);if(isPathSeparator(c)){if(!i){n=r+1;break}}else o===-1&&(i=!1,o=r+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(s=r):(a=-1,s=o))}return n===s?s=o:s===-1&&(s=e.length),e.slice(n,s)}for(r=e.length-1;r>=n;--r)if(isPathSeparator(e.charCodeAt(r))){if(!i){n=r+1;break}}else s===-1&&(i=!1,s=r+1);return s===-1?"":e.slice(n,s)},extname(e){validateString(e,"path");let t=0,n=-1,s=0,i=-1,r=!0,a=0;e.length>=2&&e.charCodeAt(1)===CHAR_COLON&&isWindowsDeviceRoot(e.charCodeAt(0))&&(t=s=2);for(let o=e.length-1;o>=t;--o){const c=e.charCodeAt(o);if(isPathSeparator(c)){if(!r){s=o+1;break}continue}i===-1&&(r=!1,i=o+1),c===CHAR_DOT?n===-1?n=o:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||i===-1||a===0||a===1&&n===i-1&&n===s+1?"":e.slice(n,i)},format:_format.bind(null,"\\"),parse(e){validateString(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;const n=e.length;let s=0,i=e.charCodeAt(0);if(n===1)return isPathSeparator(i)?(t.root=t.dir=e,t):(t.base=t.name=e,t);if(isPathSeparator(i)){if(s=1,isPathSeparator(e.charCodeAt(1))){let f=2,m=f;for(;f<n&&!isPathSeparator(e.charCodeAt(f));)f++;if(f<n&&f!==m){for(m=f;f<n&&isPathSeparator(e.charCodeAt(f));)f++;if(f<n&&f!==m){for(m=f;f<n&&!isPathSeparator(e.charCodeAt(f));)f++;f===n?s=f:f!==m&&(s=f+1)}}}}else if(isWindowsDeviceRoot(i)&&e.charCodeAt(1)===CHAR_COLON){if(n<=2)return t.root=t.dir=e,t;if(s=2,isPathSeparator(e.charCodeAt(2))){if(n===3)return t.root=t.dir=e,t;s=3}}s>0&&(t.root=e.slice(0,s));let r=-1,a=s,o=-1,c=!0,l=e.length-1,g=0;for(;l>=s;--l){if(i=e.charCodeAt(l),isPathSeparator(i)){if(!c){a=l+1;break}continue}o===-1&&(c=!1,o=l+1),i===CHAR_DOT?r===-1?r=l:g!==1&&(g=1):r!==-1&&(g=-1)}return o!==-1&&(r===-1||g===0||g===1&&r===o-1&&r===a+1?t.base=t.name=e.slice(a,o):(t.name=e.slice(a,r),t.base=e.slice(a,o),t.ext=e.slice(r,o))),a>0&&a!==s?t.dir=e.slice(0,a-1):t.dir=t.root,t},sep:"\\",delimiter:";",win32:null,posix:null},posix={resolve(...e){let t="",n=!1;for(let s=e.length-1;s>=-1&&!n;s--){const i=s>=0?e[s]:cwd();validateString(i,"path"),i.length!==0&&(t=`${i}/${t}`,n=i.charCodeAt(0)===CHAR_FORWARD_SLASH)}return t=normalizeString(t,!n,"/",isPosixPathSeparator),n?`/${t}`:t.length>0?t:"."},normalize(e){if(validateString(e,"path"),e.length===0)return".";const t=e.charCodeAt(0)===CHAR_FORWARD_SLASH,n=e.charCodeAt(e.length-1)===CHAR_FORWARD_SLASH;return e=normalizeString(e,!t,"/",isPosixPathSeparator),e.length===0?t?"/":n?"./":".":(n&&(e+="/"),t?`/${e}`:e)},isAbsolute(e){return validateString(e,"path"),e.length>0&&e.charCodeAt(0)===CHAR_FORWARD_SLASH},join(...e){if(e.length===0)return".";let t;for(let n=0;n<e.length;++n){const s=e[n];validateString(s,"path"),s.length>0&&(t===void 0?t=s:t+=`/${s}`)}return t===void 0?".":posix.normalize(t)},relative(e,t){if(validateString(e,"from"),validateString(t,"to"),e===t||(e=posix.resolve(e),t=posix.resolve(t),e===t))return"";const n=1,s=e.length,i=s-n,r=1,a=t.length-r,o=i<a?i:a;let c=-1,l=0;for(;l<o;l++){const f=e.charCodeAt(n+l);if(f!==t.charCodeAt(r+l))break;f===CHAR_FORWARD_SLASH&&(c=l)}if(l===o)if(a>o){if(t.charCodeAt(r+l)===CHAR_FORWARD_SLASH)return t.slice(r+l+1);if(l===0)return t.slice(r+l)}else i>o&&(e.charCodeAt(n+l)===CHAR_FORWARD_SLASH?c=l:l===0&&(c=0));let g="";for(l=n+c+1;l<=s;++l)(l===s||e.charCodeAt(l)===CHAR_FORWARD_SLASH)&&(g+=g.length===0?"..":"/..");return`${g}${t.slice(r+c)}`},toNamespacedPath(e){return e},dirname(e){if(validateString(e,"path"),e.length===0)return".";const t=e.charCodeAt(0)===CHAR_FORWARD_SLASH;let n=-1,s=!0;for(let i=e.length-1;i>=1;--i)if(e.charCodeAt(i)===CHAR_FORWARD_SLASH){if(!s){n=i;break}}else s=!1;return n===-1?t?"/":".":t&&n===1?"//":e.slice(0,n)},basename(e,t){t!==void 0&&validateString(t,"ext"),validateString(e,"path");let n=0,s=-1,i=!0,r;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t===e)return"";let a=t.length-1,o=-1;for(r=e.length-1;r>=0;--r){const c=e.charCodeAt(r);if(c===CHAR_FORWARD_SLASH){if(!i){n=r+1;break}}else o===-1&&(i=!1,o=r+1),a>=0&&(c===t.charCodeAt(a)?--a===-1&&(s=r):(a=-1,s=o))}return n===s?s=o:s===-1&&(s=e.length),e.slice(n,s)}for(r=e.length-1;r>=0;--r)if(e.charCodeAt(r)===CHAR_FORWARD_SLASH){if(!i){n=r+1;break}}else s===-1&&(i=!1,s=r+1);return s===-1?"":e.slice(n,s)},extname(e){validateString(e,"path");let t=-1,n=0,s=-1,i=!0,r=0;for(let a=e.length-1;a>=0;--a){const o=e.charCodeAt(a);if(o===CHAR_FORWARD_SLASH){if(!i){n=a+1;break}continue}s===-1&&(i=!1,s=a+1),o===CHAR_DOT?t===-1?t=a:r!==1&&(r=1):t!==-1&&(r=-1)}return t===-1||s===-1||r===0||r===1&&t===s-1&&t===n+1?"":e.slice(t,s)},format:_format.bind(null,"/"),parse(e){validateString(e,"path");const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;const n=e.charCodeAt(0)===CHAR_FORWARD_SLASH;let s;n?(t.root="/",s=1):s=0;let i=-1,r=0,a=-1,o=!0,c=e.length-1,l=0;for(;c>=s;--c){const g=e.charCodeAt(c);if(g===CHAR_FORWARD_SLASH){if(!o){r=c+1;break}continue}a===-1&&(o=!1,a=c+1),g===CHAR_DOT?i===-1?i=c:l!==1&&(l=1):i!==-1&&(l=-1)}if(a!==-1){const g=r===0&&n?1:r;i===-1||l===0||l===1&&i===a-1&&i===r+1?t.base=t.name=e.slice(g,a):(t.name=e.slice(g,i),t.base=e.slice(g,a),t.ext=e.slice(i,a))}return r>0?t.dir=e.slice(0,r-1):n&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};posix.win32=win32.win32=win32,posix.posix=win32.posix=posix,platform==="win32"?win32.normalize:posix.normalize,platform==="win32"?win32.isAbsolute:posix.isAbsolute,platform==="win32"?win32.join:posix.join,platform==="win32"?win32.resolve:posix.resolve,platform==="win32"?win32.relative:posix.relative,platform==="win32"?win32.dirname:posix.dirname,platform==="win32"?win32.basename:posix.basename;const extname=platform==="win32"?win32.extname:posix.extname;platform==="win32"?win32.format:posix.format,platform==="win32"?win32.parse:posix.parse,platform==="win32"?win32.toNamespacedPath:posix.toNamespacedPath,platform==="win32"?win32.sep:posix.sep,platform==="win32"?win32.delimiter:posix.delimiter;var WebResourceDataType;(function(e){e[e.text=0]="text",e[e.base64=1]="base64"})(WebResourceDataType||(WebResourceDataType={}));var WebResourceMime;(function(e){e.application_octet_stream="application/octet-stream",e.application_xhtml_xml="application/xhtml+xml",e.image_jpeg="image/jpeg",e.image_png="image/png",e.image_gif="image/gif",e.image_bmp="image/bmp",e.image_svg_xml="image/svg+xml",e.image_webp="image/webp",e.font_woff="font/woff",e.font_woff2="font/woff2",e.text_css="text/css",e.text_html="text/html",e.text_javascript="text/javascript"})(WebResourceMime||(WebResourceMime={}));const textMime=[WebResourceMime.text_css,WebResourceMime.text_html,WebResourceMime.text_javascript,WebResourceMime.image_svg_xml];WebResourceMime.application_octet_stream,WebResourceMime.image_jpeg,WebResourceMime.image_png,WebResourceMime.image_gif,WebResourceMime.font_woff,WebResourceMime.font_woff2;class HtmlWebParser{constructor(){this.ext="html"}parseFile(t){const s=new TextDecoder().decode(t);let i;const r=s.match(/<!--.*Page saved with SingleFile .*url: (.*?)\n .*-->/s);return r&&(i=r[1].trim()),{main:{url:i,mime:WebResourceMime.text_html,data:{type:WebResourceDataType.text,value:s}},resource:[],frames:[]}}}/*! https://mths.be/quoted-printable v1.0.1 by @mathias | MIT license */const decode=function(e){return e.replace(/[\t\x20]$/gm,"").replace(/=(?:\r\n?|\n|$)/g,"").replace(/=([a-fA-F0-9]{2})/g,function(t,n){var s=parseInt(n,16);return String.fromCharCode(s)})};function asciiToUint8Array(e){let t=[];for(let n=0;n<e.length;n++)t.push(e.charCodeAt(n));return new Uint8Array(t)}function assert(e,t){if(!e)throw new Error(t);return!0}const parseMhtml=e=>{const t={MHTML_HEADERS:0,MTHML_CONTENT:1,MHTML_DATA:2,MHTML_END:3};let n,s,i,r,a,o,c,l,g,f,m,v,D,L,O,k;s={},i={},r={},a={},f=t.MHTML_HEADERS,L=O=0;function F(){for(;assert(L<e.length-1,"Unexpected EOF")&&/\s/.test(e[L]);)e[++L]==`
`&&O++}function j($){const M=L;for(;e[L]!==`
`&&assert(L++<e.length-1,"Unexpected EOF"););L++,O++;const H=e.substring(M,L);return $==="quoted-printable"?decode(H):$==="base64"?H.trim():H}function B($,M){const H=$.indexOf(":");H>-1?(m=$.substring(0,H).trim(),M[m]=$.substring(H+1,$.length).trim()):(assert(typeof m<"u",`Missing MHTML headers; Line ${O}`),M[m]+=$.trim())}for(;f!=t.MHTML_END;)switch(f){case t.MHTML_HEADERS:{if(v=j(),v!=0&&v!=`
`)B(v,s);else{assert(typeof s["Content-Type"]<"u",`Missing document content type; Line ${O}`);const $=s["Content-Type"].match(/boundary=(.*)/m);assert($!=null,`Missing boundary from document headers; Line ${O}`),k=$[1].replace(/\"/g,""),F(),v=j(),assert(v.includes(k),`Expected boundary; Line ${O}`),i={},f=t.MTHML_CONTENT}break}case t.MTHML_CONTENT:{v=j(),v!=0&&v!=`
`?B(v,i):(c=i["Content-Transfer-Encoding"],l=i["Content-Type"],g=i["Content-ID"],o=i["Content-Location"],typeof D>"u"&&(D=o,assert(typeof D<"u"&&(l==="text/html"||l==="application/xhtml+xml"),`Index not found; Line ${O}`)),assert(typeof g<"u"||typeof o<"u",`ID or location header not provided;  Line ${O}`),assert(typeof c<"u",`Content-Transfer-Encoding not provided;  Line ${O}`),assert(typeof l<"u",`Content-Type not provided; Line ${O}`),n={encoding:c,type:l,data:"",id:g},typeof g<"u"&&(a[g]=n),typeof o<"u"&&typeof r[o]>"u"&&(r[o]=n),F(),i={},f=t.MHTML_DATA);break}case t.MHTML_DATA:{for(v=j(c);!v.includes(k);)n.data+=v,v=j(c);try{n.data=decodeURIComponent(escape(n.data)),n.encoding==="quoted-printable"&&delete n.encoding}catch{switch(n.type){case"text/html":{const M=n.data.match(/<meta(?!\s*(?:name|value)\s*=)(?:[^>]*?content\s*=[\s"']*)?([^>]*?)[\s"';]*charset\s*=[\s"']*([^\s"'/>]*)/);Array.isArray(M)&&M[2]&&(n.data=new TextDecoder(M[2]).decode(asciiToUint8Array(n.data)))}}}f=L>=e.length-1?t.MHTML_END:t.MTHML_CONTENT;break}}return{frames:a,media:r,index:D,headers:s}};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(e,t){return t={exports:{}},e(t,t.exports),t.exports}var dayjs_min=createCommonjsModule(function(e,t){(function(n,s){e.exports=s()})(commonjsGlobal,function(){var n=1e3,s=6e4,i=36e5,r="millisecond",a="second",o="minute",c="hour",l="day",g="week",f="month",m="quarter",v="year",D="date",L="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,F={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},j=function(x,h,u){var p=String(x);return!p||p.length>=h?x:""+Array(h+1-p.length).join(u)+x},B={s:j,z:function(x){var h=-x.utcOffset(),u=Math.abs(h),p=Math.floor(u/60),d=u%60;return(h<=0?"+":"-")+j(p,2,"0")+":"+j(d,2,"0")},m:function x(h,u){if(h.date()<u.date())return-x(u,h);var p=12*(u.year()-h.year())+(u.month()-h.month()),d=h.clone().add(p,f),A=u-d<0,w=h.clone().add(p+(A?-1:1),f);return+(-(p+(u-d)/(A?d-w:w-d))||0)},a:function(x){return x<0?Math.ceil(x)||0:Math.floor(x)},p:function(x){return{M:f,y:v,w:g,d:l,D,h:c,m:o,s:a,ms:r,Q:m}[x]||String(x||"").toLowerCase().replace(/s$/,"")},u:function(x){return x===void 0}},$="en",M={};M[$]=F;var H=function(x){return x instanceof V},z=function x(h,u,p){var d;if(!h)return $;if(typeof h=="string"){var A=h.toLowerCase();M[A]&&(d=A),u&&(M[A]=u,d=A);var w=h.split("-");if(!d&&w.length>1)return x(w[0])}else{var C=h.name;M[C]=h,d=C}return!p&&d&&($=d),d||!p&&$},S=function(x,h){if(H(x))return x.clone();var u=typeof h=="object"?h:{};return u.date=x,u.args=arguments,new V(u)},b=B;b.l=z,b.i=H,b.w=function(x,h){return S(x,{locale:h.$L,utc:h.$u,x:h.$x,$offset:h.$offset})};var V=function(){function x(u){this.$L=z(u.locale,null,!0),this.parse(u)}var h=x.prototype;return h.parse=function(u){this.$d=function(p){var d=p.date,A=p.utc;if(d===null)return new Date(NaN);if(b.u(d))return new Date;if(d instanceof Date)return new Date(d);if(typeof d=="string"&&!/Z$/i.test(d)){var w=d.match(O);if(w){var C=w[2]-1||0,_=(w[7]||"0").substring(0,3);return A?new Date(Date.UTC(w[1],C,w[3]||1,w[4]||0,w[5]||0,w[6]||0,_)):new Date(w[1],C,w[3]||1,w[4]||0,w[5]||0,w[6]||0,_)}}return new Date(d)}(u),this.$x=u.x||{},this.init()},h.init=function(){var u=this.$d;this.$y=u.getFullYear(),this.$M=u.getMonth(),this.$D=u.getDate(),this.$W=u.getDay(),this.$H=u.getHours(),this.$m=u.getMinutes(),this.$s=u.getSeconds(),this.$ms=u.getMilliseconds()},h.$utils=function(){return b},h.isValid=function(){return this.$d.toString()!==L},h.isSame=function(u,p){var d=S(u);return this.startOf(p)<=d&&d<=this.endOf(p)},h.isAfter=function(u,p){return S(u)<this.startOf(p)},h.isBefore=function(u,p){return this.endOf(p)<S(u)},h.$g=function(u,p,d){return b.u(u)?this[p]:this.set(d,u)},h.unix=function(){return Math.floor(this.valueOf()/1e3)},h.valueOf=function(){return this.$d.getTime()},h.startOf=function(u,p){var d=this,A=!!b.u(p)||p,w=b.p(u),C=function(N,E){var U=b.w(d.$u?Date.UTC(d.$y,E,N):new Date(d.$y,E,N),d);return A?U:U.endOf(l)},_=function(N,E){return b.w(d.toDate()[N].apply(d.toDate("s"),(A?[0,0,0,0]:[23,59,59,999]).slice(E)),d)},y=this.$W,T=this.$M,R=this.$D,I="set"+(this.$u?"UTC":"");switch(w){case v:return A?C(1,0):C(31,11);case f:return A?C(1,T):C(0,T+1);case g:var P=this.$locale().weekStart||0,W=(y<P?y+7:y)-P;return C(A?R-W:R+(6-W),T);case l:case D:return _(I+"Hours",0);case c:return _(I+"Minutes",1);case o:return _(I+"Seconds",2);case a:return _(I+"Milliseconds",3);default:return this.clone()}},h.endOf=function(u){return this.startOf(u,!1)},h.$set=function(u,p){var d,A=b.p(u),w="set"+(this.$u?"UTC":""),C=(d={},d[l]=w+"Date",d[D]=w+"Date",d[f]=w+"Month",d[v]=w+"FullYear",d[c]=w+"Hours",d[o]=w+"Minutes",d[a]=w+"Seconds",d[r]=w+"Milliseconds",d)[A],_=A===l?this.$D+(p-this.$W):p;if(A===f||A===v){var y=this.clone().set(D,1);y.$d[C](_),y.init(),this.$d=y.set(D,Math.min(this.$D,y.daysInMonth())).$d}else C&&this.$d[C](_);return this.init(),this},h.set=function(u,p){return this.clone().$set(u,p)},h.get=function(u){return this[b.p(u)]()},h.add=function(u,p){var d,A=this;u=Number(u);var w=b.p(p),C=function(T){var R=S(A);return b.w(R.date(R.date()+Math.round(T*u)),A)};if(w===f)return this.set(f,this.$M+u);if(w===v)return this.set(v,this.$y+u);if(w===l)return C(1);if(w===g)return C(7);var _=(d={},d[o]=s,d[c]=i,d[a]=n,d)[w]||1,y=this.$d.getTime()+u*_;return b.w(y,this)},h.subtract=function(u,p){return this.add(-1*u,p)},h.format=function(u){var p=this,d=this.$locale();if(!this.isValid())return d.invalidDate||L;var A=u||"YYYY-MM-DDTHH:mm:ssZ",w=b.z(this),C=this.$H,_=this.$m,y=this.$M,T=d.weekdays,R=d.months,I=function(E,U,q,Y){return E&&(E[U]||E(p,A))||q[U].slice(0,Y)},P=function(E){return b.s(C%12||12,E,"0")},W=d.meridiem||function(E,U,q){var Y=E<12?"AM":"PM";return q?Y.toLowerCase():Y},N={YY:String(this.$y).slice(-2),YYYY:this.$y,M:y+1,MM:b.s(y+1,2,"0"),MMM:I(d.monthsShort,y,R,3),MMMM:I(R,y),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:I(d.weekdaysMin,this.$W,T,2),ddd:I(d.weekdaysShort,this.$W,T,3),dddd:T[this.$W],H:String(C),HH:b.s(C,2,"0"),h:P(1),hh:P(2),a:W(C,_,!0),A:W(C,_,!1),m:String(_),mm:b.s(_,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:w};return A.replace(k,function(E,U){return U||N[E]||w.replace(":","")})},h.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},h.diff=function(u,p,d){var A,w=b.p(p),C=S(u),_=(C.utcOffset()-this.utcOffset())*s,y=this-C,T=b.m(this,C);return T=(A={},A[v]=T/12,A[f]=T,A[m]=T/3,A[g]=(y-_)/6048e5,A[l]=(y-_)/864e5,A[c]=y/i,A[o]=y/s,A[a]=y/n,A)[w]||y,d?T:b.a(T)},h.daysInMonth=function(){return this.endOf(f).$D},h.$locale=function(){return M[this.$L]},h.locale=function(u,p){if(!u)return this.$L;var d=this.clone(),A=z(u,p,!0);return A&&(d.$L=A),d},h.clone=function(){return b.w(this.$d,this)},h.toDate=function(){return new Date(this.valueOf())},h.toJSON=function(){return this.isValid()?this.toISOString():null},h.toISOString=function(){return this.$d.toISOString()},h.toString=function(){return this.$d.toUTCString()},x}(),J=V.prototype;return S.prototype=J,[["$ms",r],["$s",a],["$m",o],["$H",c],["$W",l],["$M",f],["$y",v],["$D",D]].forEach(function(x){J[x[1]]=function(h){return this.$g(h,x[0],x[1])}}),S.extend=function(x,h){return x.$i||(x(h,V,S),x.$i=!0),S},S.locale=z,S.isDayjs=H,S.unix=function(x){return S(1e3*x)},S.en=M[$],S.Ls=M,S.p={},S})});class MHtmlWebParser{constructor(){this.ext="mhtml"}parseFile(t){const s=new TextDecoder().decode(t),i=parseMhtml(s),{media:r}=i,a=[];for(const l of Object.keys(r))a.push({url:l,data:this.getData(r[l]),mime:this.transformMime(r[l].type)});const o=i.media[i.index];let c;return i.headers.Date&&dayjs_min(i.headers.Date).isValid()&&(c=dayjs_min(i.headers.Date).toDate().getTime()),{main:{url:i.index,mime:this.transformMime(o.type),data:this.getData(o)},resource:a,frames:[],createTime:c}}getData(t){return t.encoding==="base64"?{type:WebResourceDataType.base64,value:t.data}:{type:WebResourceDataType.text,value:t.data}}transformMime(t){const n={["image/png"]:WebResourceMime.image_png,["image/jpeg"]:WebResourceMime.image_jpeg,["image/svg+xml"]:WebResourceMime.image_svg_xml,["image/gif"]:WebResourceMime.image_gif,["image/bmp"]:WebResourceMime.image_bmp,["font/woff2"]:WebResourceMime.font_woff2,["application/x-javascript"]:WebResourceMime.text_javascript,["application/javascript"]:WebResourceMime.text_javascript,["application/octet-stream"]:WebResourceMime.application_octet_stream,["application/xhtml+xml"]:WebResourceMime.application_xhtml_xml,["text/javascript"]:WebResourceMime.text_javascript,["text/html"]:WebResourceMime.text_html,["text/css"]:WebResourceMime.text_css,["font/woff"]:WebResourceMime.font_woff,["image/webp"]:WebResourceMime.image_webp};return n[t]?n[t]:(console.log("meme mhtml",t),WebResourceMime.application_octet_stream)}}function decodeUtf8(e){return new TextDecoder().decode(e)}function parseBytesAsUInt(e){return e.byteLength===16?parseInt([...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join(""),16):new Uint8Array(e).reduce((t,n)=>t<<8|n,0)}function splitByte(e){if(e<0||e>255)throw new Error(`Bytes must be between ${0} and ${255}, got ${e}`);return[(e&240)>>4,e&15]}function parseBytesAsFloat(e){const t=new DataView(e);switch(e.byteLength){case 4:return t.getFloat32(0);case 8:return t.getFloat64(0);default:throw new Error(`Unhandled float length ${e.byteLength}`)}}function parseAsciiString(e){return decodeUtf8(e)}function parseUtf16BeString(e){const t=new Uint16Array(e);let n="";for(const s of t)n+=String.fromCharCode(swap16(s));return n}function swap16(e){return(e&65280)>>8|(e&255)<<8}function parseObject(e,t,n,s){const i=new DataView(t),r=n[e],a=r+1,[o,c]=splitByte(i.getUint8(r)),l={objectOffset:a,objectType:o,objectInfo:c};switch(o){case 0:return parseBplistSimpleType(l);case 1:return parseBplistInteger(l,t);case 2:return parseBplistFloat(l,t);case 3:return parseBplistDate(l,t);case 4:return parseBplistRawData(l,t);case 5:return parseBplistString(l,t,!1);case 6:return parseBplistString(l,t,!0);case 8:return parseBplistUid(l,t);case 10:return parseBplistArray(l,t,n,s);case 13:return parseBplistDictionary(l,t,n,s);default:throw new Error("Unhandled type 0x"+o.toString(16))}}function parseBplistSimpleType({objectInfo:e}){switch(e){case 0:return null;case 8:return!1;case 9:return!0;case 15:return null;default:throw new Error("Unhandled simple type 0x"+e.toString(16))}}function parseBplistInteger({objectOffset:e,objectInfo:t},n){return parseBytesAsUInt(n.slice(e,e+2**t))}function parseBplistFloat({objectOffset:e,objectInfo:t},n){return parseBytesAsFloat(n.slice(e,e+2**t))}function parseBplistDate({objectOffset:e},t){const n=new DataView(t).getFloat64(e);return new Date(9783072e5+n*1e3)}function parseBplistRawData({objectOffset:e,objectInfo:t},n){const[s,i]=getOffsetAndLength(new DataView(n,e),t);return n.slice(e+s,e+s+i)}function parseBplistString({objectOffset:e,objectInfo:t},n,s){const[i,r]=getOffsetAndLength(new DataView(n,e),t),a=n.slice(e+i,e+i+(s?r*2:r));return s?parseUtf16BeString(a):parseAsciiString(a)}function parseBplistUid({objectOffset:e,objectInfo:t},n){return{UID:parseBytesAsUInt(n.slice(e,e+t+1))}}function parseBplistArray({objectOffset:e,objectInfo:t},n,s,i){const[r,a]=getOffsetAndLength(new DataView(n,e),t),{objectRefSize:o}=i,c=[];for(let l=0;l<a;l++){const g=e+r+l*o,f=parseBytesAsUInt(n.slice(g,g+o));c[l]=parseObject(f,n,s,i)}return c}function parseBplistDictionary({objectOffset:e,objectInfo:t},n,s,i){const[r,a]=getOffsetAndLength(new DataView(n,e),t),{objectRefSize:o}=i,c={};for(let l=0;l<a;l++){const g=e+r+l*o,f=parseBytesAsUInt(n.slice(g,g+o)),m=parseObject(f,n,s,i),v=g+a*o,D=parseBytesAsUInt(n.slice(v,v+o)),L=parseObject(D,n,s,i);c[m]=L}return c}function getOffsetAndLength(e,t){let n=0,s=t;if(t===15){const[i,r]=splitByte(e.getUint8(0));if(i!==1)throw new Error(`Unexpected int length: ${i}`);const a=2**r;n=1+a,s=parseBytesAsUInt(e.buffer.slice(e.byteOffset+1,e.byteOffset+1+a))}return[n,s]}function parseHeader(e){const t=decodeUtf8(e.slice(0,6)),n=decodeUtf8(e.slice(6,8));return{identifier:t,version:n}}function parseTrailer(e){const t=new DataView(e),n=t.getUint8(6),s=t.getUint8(7),i=Number(t.getBigUint64(8)),r=Number(t.getBigUint64(16)),a=Number(t.getBigUint64(24));return{offsetSize:n,objectRefSize:s,numObjects:i,topObject:r,offsetTableOffset:a}}function parseOffsetTable(e,t){const n=[],{numObjects:s,offsetSize:i}=t;for(let r=0;r<s;r++)n[r]=parseBytesAsUInt(e.slice(r*i,(r+1)*i));return n}function parseBplist(e,t=!1){const n=e.slice(0,8),s=parseHeader(n),{identifier:i,version:r}=s;if(i!=="bplist"&&!t)throw new Error("Invalid binary plist. Expected 'bplist' at offset 0.");if(r!=="00"&&!t)throw new Error(`Unsupported bplist version ${r}, only 00 is supported`);const a=e.slice(e.byteLength-32,e.byteLength),o=parseTrailer(a),c=e.slice(o.offsetTableOffset,o.offsetTableOffset+o.numObjects*o.offsetSize),l=parseOffsetTable(c,o);return parseObject(o.topObject,e,l,o)}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<chars.length;e++)lookup[chars.charCodeAt(e)]=e;const encode=e=>{let t=new Uint8Array(e),n,s=t.length,i="";for(n=0;n<s;n+=3)i+=chars[t[n]>>2],i+=chars[(t[n]&3)<<4|t[n+1]>>4],i+=chars[(t[n+1]&15)<<2|t[n+2]>>6],i+=chars[t[n+2]&63];return s%3===2?i=i.substring(0,i.length-1)+"=":s%3===1&&(i=i.substring(0,i.length-2)+"=="),i};class WebAchiveWebParser{constructor(){this.ext="webarchive"}parseFile(t){const n=parseBplist(t);return this.parse(n)}parse(t){const{WebMainResource:n,WebSubresources:s}=t;let i=new TextDecoder().decode(n.WebResourceData);return{main:{url:n.WebResourceURL,mime:this.transformWebSiteMime(n.WebResourceMIMEType),data:{type:WebResourceDataType.text,value:i}},frames:[],resource:(s??[]).map(r=>this.transformResource(r))}}transformResource(t){const n=this.transformWebSiteMime(t.WebResourceMIMEType),s=textMime.includes(n);let i;return s?i={type:WebResourceDataType.text,value:new TextDecoder().decode(t.WebResourceData)}:i={type:WebResourceDataType.base64,value:encode(t.WebResourceData)},{url:t.WebResourceURL,mime:this.transformWebSiteMime(t.WebResourceMIMEType),data:i}}transformWebSiteMime(t){const n={["image/png"]:WebResourceMime.image_png,["image/jpeg"]:WebResourceMime.image_jpeg,["image/svg+xml"]:WebResourceMime.image_svg_xml,["image/gif"]:WebResourceMime.image_gif,["image/bmp"]:WebResourceMime.image_bmp,["font/woff2"]:WebResourceMime.font_woff2,["application/x-javascript"]:WebResourceMime.text_javascript,["application/javascript"]:WebResourceMime.text_javascript,["application/octet-stream"]:WebResourceMime.application_octet_stream,["application/font-woff2"]:WebResourceMime.font_woff2,["text/javascript"]:WebResourceMime.text_javascript,["text/html"]:WebResourceMime.text_html,["text/css"]:WebResourceMime.text_css,["font/woff"]:WebResourceMime.font_woff,["image/webp"]:WebResourceMime.image_webp};return n[t]?n[t]:(console.log("meme webarchive",t),WebResourceMime.application_octet_stream)}}function getParserByFileName(e){switch(extname(e)){case".html":return new HtmlWebParser;case".mht":case".mhtml":return new MHtmlWebParser;case".webarchive":return new WebAchiveWebParser;default:throw new Error(`unsupported extname ${extname(e)}`)}}async function parseFile(e){const t=await fs__default.default.readFile(e),n=await fs__default.default.stat(e),s=crypto__default.default.createHash("sha256");s.update(t);const i=s.digest("hex"),r=getParserByFileName(e),a=r.parseFile(t.buffer),{JSDOM:o}=await Promise.resolve().then(function(){return _interopNamespace(require("jsdom"))}),c=a.main.data.value,l=new o(c,{url:a.main.url}),g=l.window.document.querySelector('meta[name="description"]')?.getAttribute("content");return{id:i,firstAddTime:Date.now(),size:n.size,createTime:a.createTime??n.birthtime.getDate(),title:l.window.document.title,link:a.main.url,excerpt:g??"",ext:r.ext}}process.on("message",e=>{parseFile(e).then(t=>{process.send(JSON.stringify(t)),process.exit(0)})});
